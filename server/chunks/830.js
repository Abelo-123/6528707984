"use strict";exports.id=830,exports.ids=[830],exports.modules={830:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(4588),o=a(9987),l=a(5666),n=a(7805),r=a(3506),i=a(130),c=a(7668),d=a(2790),m=a(8284),p=a(8387),u=a(6532);let x=()=>{let[e,t]=(0,l.useState)(!0),[a,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(""),[b,f]=(0,l.useState)(0),w=(0,l.useRef)(""),{setNotification:y}=(0,m.a)(),{userData:j,setUserData:v}=(0,i.a)(),[N,k]=(0,l.useState)(!1),[_,T]=(0,l.useState)(!1),[C,S]=(0,l.useState)(!1),[A,D]=(0,l.useState)(null),[E,I]=(0,l.useState)(""),[z,W]=(0,l.useState)(""),[M,O]=(0,l.useState)(""),[B,L]=(0,l.useState)(!1),[q,G]=(0,l.useState)([]),[P,U]=(0,l.useState)(!1),[Z,F]=(0,l.useState)(!1),[H,Y]=(0,l.useState)(!1),[$,K]=(0,l.useState)(!1),[R,Q]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=async()=>{let{data:e,error:t}=await p.O.from("panel").select("minmax").eq("owner",0x185242d90).eq("key","minmax").single();t?console.error("Error fetching initial balance:",t):(v(t=>({...t,deposit:e.minmax})),console.log(e.minmax))};p.O.channel("panel").on("postgres_changes",{event:"UPDATE",schema:"public",table:"panel",filter:"owner=eq.6528707984"},e=>{"minmax"===e.new.key&&v(t=>({...t,deposit:e.new.minmax})),"rate"===e.new.key&&v(t=>({...t,rate:Number(e.new.value)}))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"panel",filter:"owner=eq.779060335"},e=>{"rate"===e.new.key&&v(t=>({...t,allrate:e.new.allrate}))}).subscribe(),e()},[]);let V=()=>{k(!1),K(!1),Q(!0),L(!1),x(!1),g("")},J=()=>{T(!1)},X=e=>{let t=e.target.value;W(t),t<150?O("black"):O("blue")},ee=async e=>{U(!0);let t=document.createElement("script");t.src="https://telegram.org/js/telegram-web-app.js?2",t.async=!0,document.body.appendChild(t),t.onload=async()=>{let t=window.Telegram;if(t.WebApp.expand(),window.Telegram&&window.Telegram.WebApp){window.Telegram.WebApp.ready();let{user:a}=t.WebApp.initDataUnsafe,s=Math.floor(1e4+9e4*Math.random());e.preventDefault();let{error:o}=await p.O.from("deposit").insert([{did:s,uid:a.id,pm:A,amount:z,name:E,username:a.first_name,username_profile:j.profile,father:0x185242d90}]);o?console.error(o.message):(D(null),I(""),W(""),k(!1),U(!1),T(!1),c.Z.fire({title:"Success!",text:"The operation was successful.",icon:"success",confirmButtonText:"OK",customClass:{popup:"swal2-popup",title:"swal2-title",confirmButton:"swal2-confirm",cancelButton:"swal2-cancel"}}))}}};(0,l.useEffect)(()=>{w.current=h},[h]),(0,l.useEffect)(()=>{let e=document.createElement("script");e.src="https://telegram.org/js/telegram-web-app.js?2",e.async=!0,document.body.appendChild(e),e.onload=async()=>{let e=window.Telegram;if(e.WebApp.expand(),window.Telegram&&window.Telegram.WebApp){window.Telegram.WebApp.ready();let{user:t}=e.WebApp.initDataUnsafe;(async()=>{F(!0);let{data:e,error:a}=await p.O.from("deposit").select("*").eq("uid",t.id).order("created",{ascending:!1});a?console.log(a):(F(!1),G(e))})()}}},[]);let et=async(e,t)=>{let a=document.createElement("script");a.src="https://telegram.org/js/telegram-web-app.js?2",a.async=!0,document.body.appendChild(a),a.onload=async()=>{let a=window.Telegram;if(a.WebApp.expand(),window.Telegram&&window.Telegram.WebApp){window.Telegram.WebApp.ready();let{user:s}=a.WebApp.initDataUnsafe,{data:o,error:l}=await p.O.from("users").select("balance").eq("id",s.id).single();if(l)console.error(l.message);else{let a=Number(o.balance+Number(e)),{error:l}=await p.O.from("users").update({balance:a}).eq("id",s.id);if(l)console.error(l.message);else{v(e=>({...e,balance:a}));let o=Math.floor(1e4+9e4*Math.random()),{error:l}=await p.O.from("deposit").insert([{transaction:t,did:o,uid:s.id,amount:Number(e),name:j.firstName,username:j.username,username_profile:j.profile,father:0x185242d90}]);l?console.error(l.message):(g(""),G(a=>[{status:"Done",did:o,Date:new Date,transaction:t,amount:Number(e)},...a]))}}}}};(0,l.useEffect)(()=>{let e=e=>{if("https://chapaaa.netlify.app"!==e.origin)return;let{type:a,message:s}=e.data;"payment-success"===a?(S(!1),x(!1),c.Z.fire({title:"Success!",text:"The operation was successful.",icon:"success",confirmButtonText:"OK",customClass:{popup:"swal2-popup",title:"swal2-title",confirmButton:"swal2-confirm",cancelButton:"swal2-cancel"}}),L(!1),Q(!0),K(!1),g(""),w.current?et(w.current,s):console.log(0)):"payment-failure"===a||"payment-closed"===a?(console.error(s),t(!0),Q(!0),L(!0),x(!1)):"payment-closed"===a&&(t(!0),L(!0),Q(!0),console.log(s),x(!1))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]);let ea=e=>{g(e),console.log(h),$&&(L(!0),t(!0)),x(!1)},{useNotification:es}=(0,m.a)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(o.aV,{style:{padding:"5px",height:"40rem",position:"relative"},children:[es.notificationModal&&(0,s.jsxs)("div",{style:{zIndex:900,background:"var(--tgui--section_bg_color)"},className:" modal-popp fixed inset-0 top-0 bottom-0 w-screen ",children:[es.notificationLoader&&(0,s.jsx)(d.Z,{style:{marginTop:"2rem"}}),(0,s.jsx)("div",{style:{height:"85%"},className:"mt-24 ",children:(0,s.jsx)("div",{className:"  w-screen ",children:!es.notifcationLoader&&es.notificationData&&es.notificationData.map((e,t)=>(0,s.jsx)("li",{className:"flex w-11/12 p-3 mx-auto",style:{borderTop:"2px solid black"},children:(0,s.jsxs)("div",{className:"block w-full px-2",children:[(0,s.jsxs)("div",{className:"text-right ml-auto",children:[" ",e.from]}),(0,s.jsxs)("div",{className:"text ml-2",children:[" ",e.message]})]})},t))})}),(0,s.jsx)("div",{className:"absolute  w-full grid place-content-center bottom-4",children:(0,s.jsxs)("div",{onClick:()=>{y(e=>({...e,notificationModal:!1,notificationData:[],notificationLoader:!0}))},className:"p-3 ",children:[(0,s.jsx)(r.G,{icon:n.ptP,style:{margin:"auto auto",color:"var(--tgui--section_header_text_color)"},size:"2x"}),(0,s.jsx)(o.xv,{style:{display:"inline",margin:"auto 0.5rem",fontWeight:"700",color:"var(--tgui--section_header_text_color)"},children:"Back"})]})})]}),C&&(0,s.jsx)("div",{className:"fixed  modal-pops inset-0  h-screen bg-black bg-opacity-75 grid content-center z-50",onClick:V,children:(0,s.jsxs)("div",{className:"bg-white mx-auto modal-pop lg:w-4/12 p-8 rounded-lg relative w-96",onClick:e=>e.stopPropagation(),style:{width:"90%",background:"var(--tgui--bg_color)"},children:[(0,s.jsx)("div",{className:" text-gray-500 absolute m-2 right-4 top-2 px-4 py-3 rounded-md",onClick:()=>{S(!1),L(!1),Q(!0),K(!1),x(!1),g("")},children:(0,s.jsx)(r.G,{icon:n.YIN,style:{margin:"auto auto"},size:"2x"})}),(0,s.jsx)("h2",{style:{color:"var(--tgui--section_header_text_color)"},className:"text-xl font-semibold mb-4",children:"Make Deposit"}),(0,s.jsxs)("div",{className:"amount-container",children:[(0,s.jsx)(o.II,{header:"Amount",type:"number",className:"w-full",placeholder:"Enter amount",value:h,onChange:e=>{g(e.target.value),ea(e.target.value),Q(!0),t(!0)}}),(0,s.jsx)("strong",{style:{color:"red"},children:""!==h&&parseInt(h)<=j.deposit&&`The Minimum Deposit Amount is ${j.deposit}`}),(0,s.jsx)(o.zx,{onClick:()=>{f(e=>e+1),x(!0),Q(!1),Y(!0),K(!0)},className:"w-full p-4",disabled:parseInt(h)<=j.deposit||""===h,style:{display:R?"block":"none",marginTop:"10px",padding:"10px",backgroundColor:parseInt(h)>=j.deposit?"var(--tgui--button_color)":"gray",color:"white"},children:B&&e?"Try Again":"Continue"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"iframe-container relative",children:[H&&(0,s.jsx)(d.Z,{}),a&&(0,s.jsx)("iframe",{src:parseInt(h)>1?`https://chapaaa.netlify.app/chapa.html?amount=${h}`:"",width:"100%",height:"310rem",onLoad:()=>{Y(!1)},title:"Embedded HTML",frameBorder:"0"},b)]})]})}),N&&(0,s.jsx)("div",{className:"fixed  modal-pops inset-0 absolute h-screen bg-black bg-opacity-25 grid content-center z-50",onClick:V,children:(0,s.jsxs)("div",{className:"bg-white mx-auto modal-pop lg:w-4/12 p-8 rounded-lg relative w-96",onClick:e=>e.stopPropagation(),style:{width:"90%",background:"var(--tgui--bg_color)"},children:[(0,s.jsx)("div",{className:" text-gray-500 absolute m-2 right-4 top-2 px-4 py-3 rounded-md",onClick:V,children:(0,s.jsx)(r.G,{icon:n.YIN,style:{margin:"auto auto"},size:"2x"})}),(0,s.jsx)("h2",{style:{color:"var(--tgui--section_header_text_color)"},className:"text-xl font-semibold mb-4",children:"Make Deposit"}),(0,s.jsx)("p",{className:"mb-4",children:"Enter the amount you want to deposit:"}),(0,s.jsxs)(o.Ph,{header:"Select",value:A||"",onChange:e=>{D(e.target.value)},children:[(0,s.jsx)("option",{value:"",children:"Select an option"}),(0,s.jsx)("option",{children:"Hello"}),(0,s.jsx)("option",{children:"Okay"})]}),(0,s.jsx)(o.II,{header:"Name",value:E,onChange:e=>I(e.target.value),placeholder:"Enter your name",autoFocus:!0}),(0,s.jsx)(o.II,{type:"number",style:{color:M},header:"Amount",value:z,onInput:e=>X(e),placeholder:"Enter the amount"}),(0,s.jsx)("div",{className:"flex mt-6  justify-between",children:(0,s.jsx)("button",{disabled:"blue"==M,id:"deposit",style:{background:"var(--tgui--button_color)"},className:" w-full text-white px-6 py-4 rounded-md",onClick:()=>{T(!0),"blue"==M&&(window.alert("150"),T(!1))},children:"Make Deposit"})})]})}),_&&(0,s.jsx)("div",{className:"fixed  modal-pops grid content-center inset-0  bg-opacity-75 grid content-center z-50",children:(0,s.jsxs)("div",{style:{height:"30rem",background:"var(--tgui--bg_color)"},className:"mx-auto my-auto modal-pop relative  p-6 rounded-lg w-11/12",children:[(0,s.jsx)("div",{onClick:()=>J(),className:" absolute right-8 text-gray-500 px-4 py-3 mx-auto rounded-md",children:(0,s.jsx)(r.G,{icon:n.YIN,style:{margin:"auto auto"},size:"2x"})}),(0,s.jsx)("h2",{style:{color:"var(--tgui--section_header_text_color)"},className:"text-xl font-bold mb-4",children:"Confirm Action"}),z," ",A," ",E,(0,s.jsx)("div",{className:"flex absolute bottom-6 left-0 right-0   w-full justify-end space-x-4",children:(0,s.jsx)("button",{disabled:!0===P,onClick:ee,style:{background:"var(--tgui--button_color)"},className:"bg-blue-500  text-white px-6 py-4 mx-auto w-10/12 rounded-md",children:!0==P?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("button",{className:"buttonload",children:[(0,s.jsx)(r.G,{icon:n.QDM,className:"spin"})," Loading"]})}):"Confirm"})})]})}),(0,s.jsx)("div",{className:"z-90   w-full absolute place-content-center grid place-content-end absolute  ",onClick:()=>window.location.href="https://www.google.com",style:{margin:"-0.5rem -1rem",fontSize:"0.8rem",height:"3rem",zIndex:900},children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(r.G,{icon:u.Uv8,style:{margin:"1rem 0.3rem",color:"var(--tgui--section_header_text_color)"},size:"2x"}),(0,s.jsx)("div",{className:"font-sans inline mx-auto my-auto",children:"Support"})]})}),(0,s.jsx)(o.$0,{header:"Deposit History",style:{marginTop:"-1rem",border:"1px solid var(--tgui--section_bg_color)"},children:(0,s.jsxs)("div",{style:{borderRadius:"10px",height:"26rem",width:"100%"},className:"scrollabler overflow-x-auto",children:[(0,s.jsxs)("table",{className:" min-w-full  rounded-lg shadow-md",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Order Id"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Amount"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Transaction"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-nowrap text-xs font-medium  uppercase tracking-wider",children:"Date"})]})}),(0,s.jsx)("tbody",{className:" ",children:q.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm  ",children:e.did}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm  ",children:e.amount}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm  ",children:e.transaction}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-nowrap ",children:e.date})]},t))})]}),Z&&(0,s.jsx)(d.Z,{})]})}),(0,s.jsx)("div",{className:"w-full p-3 grid",children:(0,s.jsx)(o.zx,{mode:"filled",size:"l",style:{width:"100%",margin:"auto auto"},onClick:()=>{S(!0)},before:"+",children:"Deposit Now"})})]})})}}};